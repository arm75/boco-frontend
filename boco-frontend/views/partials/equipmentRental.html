<div ng-controller="rentalController">
    <div class="supplier-materials-form">
        <div class="section-title">
            Equipment Rental
        </div>
        <form class="supplier-form-indent" ng-submit="addRentalData()" ng-show="isWorkOrderComplete">
            <ul>
                <li>
                    <input type="text" class="form-control" placeholder="Search Vendor" ng-model="vendor_name" required list="stockList" ng-change="fillRentalData()">
                    <datalist id="stockList">
                        <option ng-repeat="rental in rentalList" >{{rental.vendor_name}}</option>
                    </datalist>
                </li>
                <li>
                    <input type="number" step="0.01" class="form-control" placeholder="Ticket Number" ng-model="ticket_number" required>
                </li>
                <li>
                    <input type="number" step="0.01" class="form-control" placeholder="Cost" ng-model="cost" required>
                </li>
                <li class="create-work-order">
                    <input type="text" 
                           placeholder="Enter Date"
                           class="form-control date-picker"
                           onfocus="(this.type='date')" 
                           onblur="if(!this.value)this.type='text'" 
                           ng-model="date" required>
                </li>
                <li class="custom-btn padlr-50 ">
                    <button class="btn btn-gray" type="submit">Add to Rental</button>
                </li>
            </ul>
        </form>
    </div>

    <div class="data-table-wrapper">
        <table class="table">
            <thead class="thead-dark">
                <tr>
                    <th scope="col" ng-click="sortByField('vendor_name')">
                        <div class="label-wrapper">
                            <div class="data-label"> Vendor Name</div>
                            <div class="sorting-controls">
                                <img src="assets/img/arrow-top.jpg" ng-click="sortByField('vendor_name')" ng-show="vendorSortOrder == -1">
                                <img src="assets/img/arrow-bottom.jpg" ng-click="sortByField('vendor_name')"  ng-show="vendorSortOrder == 1">
                                <img src="" ng-show="vendorSortOrder == 0">
                            </div>
                        </div>
                    </th>
                    <th scope="col" ng-click="sortByField('date')">
                        <div class="label-wrapper">
                            <div class="data-label"> Ticket Number</div>
                            <div class="sorting-controls">
                                <img src="assets/img/arrow-top.jpg" ng-click="sortByField('date')" ng-show="vendorDateSortOrder == -1">
                                <img src="assets/img/arrow-bottom.jpg" ng-click="sortByField('date')"  ng-show="vendorDateSortOrder == 1">
                                <img src="" ng-show="vendorDateSortOrder == 0">
                            </div>
                        </div>
                    </th>
                    <th scope="col" ng-click="sortByField('cost')">
                        <div class="label-wrapper">
                            <div class="data-label"> Cost</div>
                            <div class="sorting-controls">
                                <img src="assets/img/arrow-top.jpg" ng-click="sortByField('cost')" ng-show="vendorTicketSortOrder == -1">
                                <img src="assets/img/arrow-bottom.jpg" ng-click="sortByField('cost')"  ng-show="vendorTicketSortOrder == 1">
                                <img src="" ng-show="vendorTicketSortOrder == 0">
                            </div>
                        </div>
                    </th>
                    <th scope="col" colspan="2" ng-click="sortByField('company_name')">
                        <div class="label-wrapper">
                            <div class="data-label"> Date</div>
                            <div class="sorting-controls">
                                <img src="assets/img/arrow-top.jpg" ng-click="sortByField('company_name')" ng-show="vendorCostSortOrder == -1">
                                <img src="assets/img/arrow-bottom.jpg" ng-click="sortByField('company_name')"  ng-show="vendorCostSortOrder == 1">
                                <img src="" ng-show="vendorCostSortOrder == 0">
                            </div>
                        </div>
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="workOrder in workOrderRentalInfo">
                    <td>{{workOrder.rental.vendor_name}}</td>
                    <td>{{workOrder.rental.ticket_number}}</td>
                    <td>{{workOrder.rental.cost}}</td>
                    <td>{{workOrder.rental.date}}</td>
                    <td ng-show="isWorkOrderComplete" ng-click="removeVendor(workOrder.rental.id)">
                        <span class="delete-item">
                        <i class="fas fa-trash-alt"></i>
                        </span>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>